<!DOCTYPE html>
<html lang="en">
<head>
	<title>jQuery Nearest Element plugin</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="main.css" />
</head>
<body>
	<div id="wrapper">
		<div id="details">
			<h1>jQuery Nearest Element plugin</h1>
			<h2>Quick Links</h2>
			<ul>
				<li><a href="https://github.com/gilmoreorless/jquery-nearest">Github project</a></li>
				<li><a href="https://github.com/gilmoreorless/jquery-nearest/raw/master/jquery.nearest.js">Raw source code</a></li>
				<li><a href="https://github.com/gilmoreorless/jquery-nearest/raw/master/jquery.nearest.min.js">Minified source code</a></li>
				<li><a href="demo.html">Interactive demonstration</a></li>
			</ul>
			<p>(Be kind to Github, don't hotlink JS files)</p>
			<h2>Intro</h2>
			<p>
				This plugin finds the elements in a page that are closest to a particular point or element, based on pixel dimensions.
				This is not to be confused with jQuery's own <a href="http://api.jquery.com/closest">.closest()</a> method,
				which is based on the DOM tree, not pixels.
			</p>
			<p>
				There are also helper methods to find elements that are the furthest away from or touching a point or element.
			</p>
			<h2>Reference</h2>
			<h3>Methods</h3>
			<p>
				There are three main methods:
			</p>
			<ul>
				<li><code>.nearest()</code> returns the elements that have the shortest pixel distance to a point or element.</li>
				<li><code>.furthest()</code> returns the elements that have the longest pixel distance to a point or element.</li>
				<li><code>.touching()</code> returns the elements that are touching a point or element (ie. their pixel distance is 0).</li>
			</ul>
			<h3>Usage</h3>
			<p>
				Each of the three methods has a utility function on the global jQuery object and a jQuery prototype function for working with element sets.
				The following examples all use <code>nearest</code> as the method, but <code>furthest</code> and <code>touching</code> work in the same way.
			</p>
			
			<h4 id="utility">Utility Function</h4>
			<pre><code>$.nearest(<em>pointObject</em>, <em>selector</em>[, <em>options</em>]);</code></pre>
			<p>
				Finds the DOM elements matching <code>selector</code> that are closest to a point or region on the page.
			</p>
			<p>
				<code>pointObject</code> is an object with <code>x</code> and <code>y</code> (numeric) properties that define a point on the page (relative to the top left corner of the page, not the screen).<br />
				Optionally, you can also specify <code>w</code> and <code>h</code> properties to define the width and height respectively of a region in the page instead of a single point &ndash; in this case the x and y properties define the top left corner of the region.
			</p>
			<p>
				<code>selector</code> is any valid jQuery selector or object that defines an element set to be filtered by the function.
			</p>
			<p>
				<code>options</code> is an optional collection of parameters to pass to the function. More details can be found in the <a href="#options">options</a> section.
			</p>
			<h5>Example</h5>
<pre><code>// Find the image(s) closest to a point 300px in and 100px down from the top left corner
var $closestToPoint = $.nearest({x: 300, y: 100}, 'img');

// Find the elements with class 'floating' closest to a particular region in the page
var $elemSet = $('.floating');
var $closestToRegion = $.nearest({x: 300, y: 100, w: 200, h: 200}, $elemSet);
</code></pre>
			
			<h4 id="single">Single Element Operation</h4>
			<pre><code>$(elem).nearest(<em>selector</em>[, <em>options</em>]);</code></pre>
			<p>
				Finds the DOM elements matching <code>selector</code> that are closest to <code>elem</code>.
				If more than one element is in <code>$(elem)</code> then only the first member will be used as a point of reference.
			</p>
			<p>
				<code>selector</code> is any valid jQuery selector or object that defines an element set to be filtered by the function.
			</p>
			<p>
				<code>options</code> is an optional collection of parameters to pass to the function. More details can be found in the <a href="#options">options</a> section.
			</p>
			<h5>Example</h5>
<pre><code>var $basicExample = $('#something').nearest('.surrounding');

// Only the first element in this set will be used for matching
var $set = $('.middle');
// Selector can be any jQuery object
var $convolutedExample = $set.nearest($set.siblings());
</code></pre>
			
			<h4 id="multi">Multiple Element Filter</h4>
			<pre><code>$(elemSet).nearest(<em>pointObject</em>[, <em>options</em>]);</code></pre>
			<p>
				Filters <code>elemSet</code> to return only the members that are closest to the point or region defined by <code>pointObject</code>.
			</p>
			<p>
				This is effectively the same as calling <code>$.nearest(pointObject, elemSet)</code> but with the benefit of not breaking method chains &ndash; see <a href="#chaining">chaining</a> for more details.
			</p>
			<p>
				<code>pointObject</code> is an object as defined in the <a href="#utility">Utility Function</a> reference.
			</p>
			<p>
				<code>options</code> is an optional collection of parameters to pass to the function. More details can be found in the <a href="#options">options</a> section.
			</p>
			<h5>Example</h5>
<pre><code>var $set = $('.filterme');

// Filter the set by distance to a point
var $closestToPoint = $set.nearest({x: 300, y: 100});

// Filter the set by distance to a region
var $closestToRegion = $set.nearest({x: 300, y: 100, w: 200, h: 200});
</code></pre>
			
			<h3>Options</h3>
			<p>
				All methods take an optional <code>options</code> object to further refine the results.
				The object can have the following parameters:
			</p>
			<dl>
				<dt><code>includeSelf</code></dt>
				<dd class="type">Boolean - default false <em>(not used by the utility methods)</em></dd>
				<dd>TODO: write this bit - I'm not sure if this option is even really needed</dd>

				<dt><code>checkHoriz</code></dt>
				<dd class="type">Boolean - default true <em>(not used by <code>.touching()</code>)</em></dd>
				<dd>If false, the function will not check for elements along the X axis,
					meaning only elements directly above or below the reference point will be matched.</dd>

				<dt><code>checkVert</code></dt>
				<dd class="type">Boolean - default true <em>(not used by <code>.touching()</code>)</em></dd>
				<dd>If false, the function will not check for elements along the Y axis,
					meaning only elements directly to the left or right of the reference point will be matched.</dd>
			</dl>
			<p>
				A example of using different options can be found on the <a href="demo.html">demonstration page</a>.
			</p>
			
			<h2>Notes</h2>
			<ul>
				<li>
					The <code>selector</code> parameter is technically optional in all methods, and will default to <code>div</code> if not present.
					However, it is <strong>strongly recommended</strong> that you pass in a selector,
					otherwise the method will loop through every single div element on the page, which &ndash;
					apart from being slow and computationally expensive &ndash; will most likely produce false positives
					by matching a reference element's parent nodes.
				</li>
				<li>
					Only set one of the <code>checkHoriz</code> and <code>checkVert</code> options to false in a single call, not both.
					If you set both to false, the <code>.nearest()</code> and <code>.furthest()</code> methods will fail to work
					(it is technically the same as calling <code>.touching()</code> instead).
				</li>
			</ul>
		</div><!-- #details -->
	</div><!-- #wrapper -->
	<a class="forkme" href="https://github.com/gilmoreorless/jquery-nearest">
		<img alt="Fork me on GitHub" id="ribbon" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" />
	</a>
	<script>
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-8341018-3']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</body>
</html>
