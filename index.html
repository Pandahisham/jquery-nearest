<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	<meta charset="utf-8">
	<style type="text/css">
		html, body {height:100%; margin:0;}
		#container {height:100%; overflow:hidden; position:relative; width:100%;}
		.moving {background-color:#AAA; border:1px solid #000; position:absolute;}
		.moving.active {background-color:#9F9;}
	</style>
</head>
<body>
	<div id="container"></div>

	<script src="lib/jquery-1.4.2.js"></script>
	<script src="jquery.nearest.js"></script>
	<script>
		$(function () {
			function rand(min, max) {
				return Math.round(Math.random() * max + min);
			}

			// Setup random elements
			var elemCount = 10,
				minSize = 25,
				maxSize = 150,
				$container = $('#container'),
				contWidth = $container.width(),
				contHeight = $container.height(),
				size, radius, x, y, $moving;
			while (elemCount--) {
				size = rand(minSize, maxSize);
				x = rand(0, contWidth - size);
				y = rand(0, contHeight - size);
				radius = rand(0, size / 2);
				$('<div class="moving" />').css({
					width: size,
					height: size,
					left: x,
					top: y/*,
					WebkitBorderRadius: radius,
					MozBorderRadius: radius,
					borderRadius: radius*/
				}).appendTo($container);
			}
			$moving = $('.moving');

			// Setup plugin demo
			$(document).mousemove(function (e) {
				var x = e.pageX,
					y = e.pageY;
				//$moving.removeClass('active').nearest({x: x, y: y}).addClass('active');
				$moving.removeClass('active');
				$.nearest({x: x, y: y}, $moving).addClass('active');
			});
		});
	</script>
</body>
</html>
